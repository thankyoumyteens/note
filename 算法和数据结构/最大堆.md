# 二叉堆

## 满足的条件

1. 最大堆的任何一个节点不大于他的父亲节点
2. 最小堆的任何一个节点不小于他的父亲节点
3. 是完全二叉树

```
        9
      /   \
     8     7
    / \   / \
   6   4 1   2
  / \
 5   3
```

## 使用数组实现二叉堆

根节点从1开始建立索引, 根据指定节点的索引(index)可以计算出它的根节点和子节点的索引
```
parent(index) = index / 2
leftChild(index) = 2 * index
rightChild(index) = 2 * index + 1
最后一个非叶子节点的索引 = count / 2
```
根节点从0开始建立索引, 根据指定节点的索引(index)可以计算出它的根节点和子节点的索引
```
parent(index) = (index - 1) / 2
leftChild(index) = 2 * index + 1
rightChild(index) = 2 * index + 2
最后一个非叶子节点的索引 = (count - 1) / 2
```
## 添加元素

新元素添加到末尾, 之后对末尾元素进行ShiftUp操作, 保持堆的性质

### SiftUp

目标元素与父节点比较, 如果大于父节点就与父节点交换,
之后继续向上比较,直到不大于父节点或到达根节点

## 取出根节点元素

取出根节点, 用最后一个元素替换根节点的元素, 堆count减一, 之后对根节点元素进行ShiftDown操作, 保持堆的性质

### SiftDown

目标元素与子节点比较, 如果小于子节点就与这个子节点交换, 如果小于两个子节点, 就和两个中最大的子节点交换, 
之后继续向下比较,直到不小于子节点或没有子节点
