- <a href="#同源策略">同源策略</a>
- <a href="#浏览器执行的过程">输入一个网址，浏览器执行的过程</a>
- <a href="#浏览器加载和渲染过程">浏览器加载和渲染过程</a>
- <a href="#浏览器的缓存机制">浏览器的缓存机制</a>

<a id="同源策略"></a>
# 同源策略

浏览器允许第一个页面的脚本访问第二个页面里的数据，
但是也只有在两个页面有相同的源时。
源是由 URI，主机名，端口号组合而成的。
这个策略可以阻止一个页面上的恶意脚本通过页面的 DOM 
对象获得访问另一个页面上敏感信息的权限。

<a id="浏览器执行的过程"></a>
# 输入一个网址，浏览器执行的过程

域名解析 --> 发起 TCP 的 3 次握手 

--> 建立 TCP 连接后发起 http 请求 

--> 服务器响应 http 请求，浏览器得到 html 代码 

--> 浏览器解析 html 代码，并请求 html 代码中的资源（如 js.css.图片等） 

--> 浏览器对页面进行渲染呈现给用户

<a id="浏览器加载和渲染过程"></a>
# 浏览器加载和渲染过程

当浏览器获得一个 html 文件时，会自上而下加载，并在加载过程中进行解析渲染。

解析：

1.  将 HTML 解析成一个 DOM 树，DOM 树的构建过程是一个深度遍历过程：当前节点的所有子节点都构建好后才会去构建当前节点的下一个兄弟节点。
2.  将 CSS 解析成 CSS Rule Tree。
3.  根据 DOM 树和 CSS Rule Tree 来构造 Render Tree。只有要显示在屏幕上的节点(比如display:none的节点不再Render Tree中)
4.  根据Render Tree计算出每个节点在屏幕中的位置。
5.  遍历 Render Tree，并绘制每个节点。

![RenderTree](img/RenderTree.jpg)

上述这个过程是逐步完成的，为了更好的用户体验，渲染引擎将会尽可能早的将内容呈现到屏幕上，并不会等到所有的 html 都解析完成之后再去构建和布局 render 树。它是解析完一部分内容就显示一部分内容，同时，可能还在通过网络下载其余内容。

<a id="浏览器的缓存机制"></a>
# 浏览器的缓存机制

![cache](img/cache.png)

todo
