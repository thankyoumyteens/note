# 单页面

即 第一次进入页面的时候会请求一个html文件，
刷新清除一下。切换到其他组件，此时路径也相应变化，
但是并没有新的html文件请求，页面内容也变化了。

原理是：JS会感知到url的变化，
通过这一点，可以用js动态的将当前页面的内容清除掉，
然后将下一个页面的内容挂载到当前页面上，
这个时候的路由不是后端来做了，而是前端来做，
判断页面到底是显示哪个组件，清除不需要的，显示需要的组件。
这种过程就是单页应用，每次跳转的时候不需要再请求html文件了。

# 多页面

即 每一次页面跳转的时候，后台服务器都会给返回一个新的html文档，
这种类型的网站也就是多页网站，也叫做多页应用。
原理是：传统的页面应用，是用一些超链接来实现页面切换和跳转的

其实刚才单页面应用跳转原理即 vue-router实现原理

# vue-router实现原理

vue-router 提供了三种运行模式：
- hash: 使用 URL hash 值来作路由。默认模式。
- history: 依赖 HTML5 History API 和服务器配置。查看 HTML5 History 模式。
- abstract: 支持所有 JavaScript 运行环境，如 Node.js 服务器端

## Hash模式

hash即浏览器url中#后面的内容，包含#。
hash是URL中的锚点，代表的是网页中的一个位置，
单单改变#后的部分，浏览器只会加载相应位置的内容，
不会重新加载页面。
也就是说

- 即#是用来指导浏览器动作的，对服务器端完全无用，HTTP请求中，不包含#。
- 每一次改变#后的部分，都会在浏览器的访问历史中增加一个记录，使用”后退”按钮，就可以回到上一个位置。

所以说Hash模式通过锚点值的改变，根据不同的值，渲染指定DOM位置的不同数据。

window.location.hash这个属性可读可写。读取时，
可以用来判断网页状态是否改变；写入时，
则会在不重载网页的前提下，创造一条访问历史记录。

hashchange事件: 这是一个HTML 5新增的事件，当#值发生变化时，就会触发这个事件。
```
window.addEventListener("hashchange", func, false);
```

## History模式

HTML5 History API提供了一种功能，
能让开发人员在不刷新整个页面的情况下修改站点的URL，
就是利用 history.pushState API 来完成 URL 跳转而无须重新加载页面；

有时，history模式下也会出问题：
eg:
-hash模式下：xxx.com/#/id=5 请求地址为 xxx.com,没有问题。
-history模式下：xxx.com/id=5 请求地址为 xxx.com/id=5，如果后端没有对应的路由处理，就会返回404错误；

为了应对这种情况，需要后台配置支持：
在服务端增加一个覆盖所有情况的候选资源：
如果 URL 匹配不到任何静态资源，则应该返回同一个 index.html 页面，
这个页面就是你 app 依赖的页面。
