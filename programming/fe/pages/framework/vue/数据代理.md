# Object.defineProperty

数据代理：通过一个对象操作另一个对象中的属性

将person.age的值与number.val的值绑定

```js
let person = {
    name:'张三',
}

let number = {
    val: 18
}

Object.defineProperty(person, 'age', {
    // 初始值
    value:18,
    // 控制属性是否可以枚举，默认值是false
    enumerable:true,
    // 控制属性是否可以被修改，默认值是false
    writable:true,
    // 控制属性是否可以被删除，默认值是false
    configurable:true,
    //当有人读取person的age属性时，get函数(getter)就会被调用，且返回值就是age的值
    get() {
        console.log('有人读取age属性了')
        return number.val
    },
    //当有人修改person的age属性时，set函数(setter)就会被调用，且会收到修改的具体值
    set(value) {
        console.log('有人修改了age属性，且值是', value)
        number.val = value
    }
})
```

# Vue中的数据代理

vue通过Object.defineProperty()把data对象中所有属性添加到vm._data中，并为每一个属性都指定一个getter/setter

```js
let globalData = {
    name:'张三'
}

const vm = new Vue({
    el:'#root',
    data: globalData
})

console.log(vm._data === globalData)
```
