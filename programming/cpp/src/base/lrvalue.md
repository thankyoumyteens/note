# 左值和右值

在 C++ 中，左值（lvalue）和右值（rvalue）是表达式的两种基本类别。它们的概念主要涉及到表达式的结果是否可以出现在赋值运算符的左侧。

## 左值（lvalue）

左值是指一个持久存在的对象，它有一个可识别的身份，也就是说，你可以通过名字来访问这个对象，并且可以在程序的不同地方多次引用它。因为它是持久存在的，所以它可以出现在赋值表达式的左边。

```cpp
int x = 10; // x 是一个左值
x = 20;     // 因为x是一个左值，所以可以出现在赋值操作的左侧
```

## 右值（rvalue）

右值是指一个临时的对象或者值，它没有一个持久的身份，因此不能出现在赋值表达式的左边。通常来说，函数返回的临时对象或字面常量都是右值。

```cpp
int y = 10 + 20; // 10 + 20 是一个右值
10 = y;          // 错误：10 是一个右值，不能出现在赋值操作的左侧
```

## decltype

使用关键字 decltype 的时候，左值和右值也有所不同。如果表达式的求值结果是左值，decltype 作用于该表达式(不是变量)得到一个引用类型。举个例子，假定 p 的类型是 `int*`，因为解引用运算符生成左值，所以 `decltype(*p)` 的结果是 `int&`。另一方面，因为取地址运算符生成右值，所以 `decltype(&p)` 的结果是 `int**`，也就是说，结果是一个指向整型指针的指针。
