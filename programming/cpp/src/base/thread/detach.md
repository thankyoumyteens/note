# detach 函数

detach()的主要作用:

1. 线程分离: 调用 detach()后，子线程与对应的 std::thread 对象解除关联，子线程会在后台独立运行，其生命周期不再受原 std::thread 对象的管理
2. 资源自动回收: 分离后的子线程一旦执行完毕，其占用的资源会被系统自动回收，无需主线程显式等待或清理
3. 非阻塞执行: 与 join()不同，detach()不会阻塞当前线程（通常是主线程），调用后主线程会立即继续执行后续代码，无需等待子线程完成

注意事项:

1. 无法再控制子线程: 分离后，原 std::thread 对象不再与子线程关联，无法通过它获取线程 ID 或调用 join()，也无法知道子线程是否已完成
2. 主线程退出的影响: 若主线程（或整个程序）退出，所有分离的子线程会被强制终止，可能导致资源泄漏或不完整的操作
3. 避免访问局部变量: 分离的子线程不能访问主线程中的局部变量（尤其是临时变量），因为主线程可能在子线程之前结束，导致变量被销毁，引发未定义行为
4. 与 join()互斥: 一个 std::thread 对象只能调用 detach()或 join()中的一个，两者同时调用会导致未定义行为

适用场景: 适合用于长期运行的后台任务（如日志、监控、心跳检测等），且不需要主线程等待其完成的场景。
