# 引用

引用是已定义的变量的别名。引用的主要用途是用作函数的形参和返回值。

创建引用:

```cpp
int a = 10;
int &ref = a;
```

## 引用用于函数的参数

把函数的参数声明为引用，调用函数的时候，它将成为传入的变量的别名。这种方法也叫按引用传递。引用的本质是指针，传递的是变量的地址，在函数中修改引用会影响传入的变量。

如果引用为 const, 那么直接向函数传递字面量时, c++会自动创建临时变量, 让引用参数指向临时变量:

```cpp
void printValue(const int &p) {
    std::cout << p << std::endl;
}
void printValue2(int &p) {
    std::cout << p << std::endl;
}

int main() {
    printValue(100);
    // 报错
    printValue2(100);

    return 0;
}
```

## 引用用于函数的返回值

函数返回时, 会把返回值拷贝到一个临时位置, 调用者访问这个临时位置来获取返回值。如果返回的是一个结构体, 就会把整个结构体拷贝到临时位置, 浪费空间。

如果返回的是引用, 则不会拷贝内存。
