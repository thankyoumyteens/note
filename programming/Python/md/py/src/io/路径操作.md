# 路径操作

`os.sep`: 在 Windows 中路径分隔符是`\`, 而 Linux 中则是`/`

## 获取当前 python 文件所在的路径

```python
import os

dist_path = os.path.abspath(os.path.dirname(__file__))
```

## 拼接路径

```python
from pathlib import Path

base_path = Path('/home')
# /home/user/bin/nginx
dist_path = base_path.joinpath('user', 'bin', 'nginx')
```

## 拆分路径

```py
from pathlib import Path

base_path = Path('/home/user/bin/nginx')
# ('/', 'home', 'user', 'bin', 'nginx')
dist_path_tuple = base_path.parts

base_path = Path('c:\\Users\\Public')
# ('c:\\', 'Users', 'Public')
dist_path_tuple = base_path.parts
```

## 获取 windows 盘符

```py
from pathlib import Path

base_path = Path('c:\\Users\\Public')
# c:
dist_drive = base_path.drive
```

## 获取文件扩展名

```py
from pathlib import Path

base_path = Path('/home/demo.txt')
# .txt
file_suffix = base_path.suffix
```

## 获取目录下所有文件和文件夹

```python
from pathlib import Path

base_path = Path('/home')
# 获取直接下级文件和文件夹
for path_obj in base_path.iterdir():
    # /home/demo
    # /home/1.txt
    print(str(path_obj))

# 获取所有下级文件和文件夹
for path_obj in base_path.glob("**/*"):
    # /home/demo
    # /home/demo/2.txt
    # /home/1.txt
    print(str(path_obj))
```

## 创建多级文件夹

- parents = True: 创建中间级父目录
- exist_ok= True: 目标目录存在时不报错

```python
from pathlib import Path

base_path = Path('/home/demo1/demo2')
base_path.mkdir(parents=True, exist_ok=True)
```

## 复制和移动

- `shutil.copyfile(src,dst)` 将文件 src 复制到 文件 dst 中, 复制成功后返回 dst 完整路径；src, dst 需是文件路径而非文件目录
- `shutil.copytree(src,dst)` 将文件夹 src 中全部文件递归复制到 dst , dst 若不存在时系统自动创建
- `shutil.copy(src, dst)` 复制文件/文件夹, dst 可为文件路径或目录路径, 相当于 `cp -P` 命令
- `shutil.move("old","new")` 将文件或整个文件目录 src 移动到 dst , 移动成功后返回目标文件路径；若 dst 不存在时自动创建

## 删除文件和文件夹

1. `os.rmdirs(path)` 删除多层目录, 只能删除空文件夹, 删除非空文件夹会报错
2. `os.rmdir(path)` 删除目录, 只能删除空文件夹, 删除非空文件夹会报错
3. `shutil.rmtree(path)` 删除文件夹及其下所有文件
4. `os.remove(path)` 删除单一文件

## 重命名文件和文件夹

`os.rename(oldfileName, newFilename)`
