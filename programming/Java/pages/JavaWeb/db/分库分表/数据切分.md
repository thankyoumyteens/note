# 数据切分

数据切分(Sharding)是指通过某种特定的条件, 将我们存放在同一个数据库中的数据分散存放到多个数据库（主机）上面, 以达到分散单台设备负载的效果。数据的切分同时还可以提高系统的总体可用性, 因为单台设备Crash之后, 只有总体数据的某部分不可用, 而不是所有的数据。

数据的切分（Sharding）根据其切分规则的类型, 可以分为两种切分模式。
一种是按照不同的表（或者Schema）来切分到不同的数据库（主机）之上, 这种切可以称之为数据的垂直（纵向）切分；
另外一种则是根据表中的数据的逻辑关系, 将同一个表中的数据按照某种条件拆分到多台数据库（主机）上面, 这种切分称之为数据的水平（横向）切分。

# 垂直切分和水平切分

垂直切分的最大特点就是规则简单, 实施也更为方便, 尤其适合各业务之间的耦合度非常低, 相互影响很小, 业务逻辑非常清晰的系统。在这种系统中, 可以很容易做到将不同业务模块所使用的表分拆到不同的数据库中。根据不同的表来进行拆分, 对应用程序的影响也更小, 拆分规则也会比较简单清晰。

水平切分于垂直切分相比, 相对来说稍微复杂一些。因为要将同一个表中的不同数据拆分到不同的数据库中, 对于应用程序来说, 拆分规则本身就较根据表名来拆分更为复杂, 后期的数据维护也会更为复杂一些。

如果用垂直切分足够解决问题, 那么首选垂直切分, 垂直切分带来的好处是不言而喻的, 假如垂直切分仍然不能满足要求的时候, 那么我们就不得不垂直切分和水平切分联合使用了, 但是进行水平切分的时候一定要仔细斟酌切分规则, 不同的切分规则会带来截然不同的维护成本, 尽量做到符合业务需求。
