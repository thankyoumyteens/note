# 日期操作

## 日期加减一天

```java
Calendar c = Calendar.getInstance();
c.setTime(new Date());
// 日期加一天
c.add(Calendar.DATE, 1);
// 日期减一天
c.add(Calendar.DATE, -1);
// 获取Date
Date date = c.getTime();
```

## 指定月份的最后一天

```java
Calendar c = Calendar.getInstance();
// 设置年
c.set(Calendar.YEAR, 2020);
// 设置月份(从0开始)
c.set(Calendar.MONTH, 1); // 这是2月
// 设置月的最后一天
c.set(Calendar.DAY_OF_MONTH, c.getActualMaximum(Calendar.DAY_OF_MONTH));
// 获取Date
Date date = c.getTime();
```

## 两个日期间隔几天

```java
public static int differentDays(Date date1, Date date2) {
    Calendar cal1 = Calendar.getInstance();
    cal1.setTime(date1);

    Calendar cal2 = Calendar.getInstance();
    cal2.setTime(date2);
    int day1 = cal1.get(Calendar.DAY_OF_YEAR);
    int day2 = cal2.get(Calendar.DAY_OF_YEAR);

    int year1 = cal1.get(Calendar.YEAR);
    int year2 = cal2.get(Calendar.YEAR);
    if (year1 != year2) {
        // 同年
        int timeDistance = 0;
        for (int i = year1; i < year2; i++) {
            if (i % 4 == 0 && i % 100 != 0 || i % 400 == 0) {
                // 闰年
                timeDistance += 366;
            } else {
                // 不是闰年
                timeDistance += 365;
            }
        }
        return timeDistance + (day2 - day1);
    } else {
        // 不同年
        return day2 - day1;
    }
}
```
