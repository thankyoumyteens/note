# 注册中心

注册中心的一些主要作用:

1. 服务注册: 微服务实例在启动时会向注册中心注册自己的信息（如 IP 地址、端口号等）, 这样注册中心就维护了一个服务名到服务实例列表的映射
2. 服务发现: 客户端或服务之间的调用需要知道目标服务的地址信息, 注册中心提供了服务名到服务实例的查询功能, 使得服务消费者可以根据服务名发现具体的服务提供者
3. 故障转移: 注册中心可以通过心跳检测服务实例的健康状况, 如果某个服务实例不可用, 注册中心可以通知客户端或负载均衡器将请求转发到健康的服务实例

常见的注册中心:

- eureka
- nacos

eureka 和 nacos 的区别:

- nacos 心跳间隔默认为 5 秒, 超过 15 秒未收到心跳会将实例设置为不健康状态, 超过 30 秒未收到心跳会将实例删除。eureka 客户端默认每 30 秒发送一次心跳, 如果连续 90 秒没有收到心跳, 会将服务实例从注册表中剔除, 极端情况下整个过程约需 3 分钟
- nacos 在服务列表变更时会主动推送给服务消费者, eureka 只支持消费者主动拉取服务
- nacos 同时支持 CP（一致性、分区容错性）和 AP 模式, 用户可以根据需求进行切换, eureka 主要支持 AP（可用性、分区容错性）, 在设计上牺牲了一致性以保证高可用性和分区容错性
- nacos 支持配置中心。eureka 只支持注册中心
- nacos 开源。eureka 闭源
