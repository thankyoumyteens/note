# 垃圾回收

垃圾回收(Garbage Collection, GC)是一种自动管理内存的机制。程序员不需要手动分配和释放内存, 而是依靠垃圾回收器自动识别和回收不再使用的对象所占用的内存空间。

在没有 GC 时, 程序员必须自己手动进行内存管理。在手动进行内存管理时, 申请内存不存在什么问题, 但在释放不要的内存空间时, 就必须一个不漏地释放。如果忘记释放内存空间, 该内存空间就会发生内存泄露(内存泄露: 内存空间在使用完毕后未释放), 既无法被使用, 又会持续存在下去。如果将发生内存泄露的程序放着不管, 总有一刻内存会被占满, 甚至还可能导致系统崩溃。

另外, 在释放内存空间时, 如果忘记重新初始化指向释放对象的内存空间的指针, 这个指针就会一直指向释放完毕的内存空间。因为这个指针没有指向有效的内存空间, 处于一种悬挂的状态, 所以称为悬垂指针(dangling pointe)。如果在程序中错误地引用了悬垂指针, 就可能会出现错误释放了还在使用中的内存空间的情况。一旦错误释放了使用中的内存空间, 下一次程序使用此空间时就会发生故障。

这种与内存相关的 BUG 的潜在场所和 BUG 出现的场所在位置上(或者是时间上)不一致, 所以很难排查。

有了 GC 以后, 程序员就不用再去担心因为忘了释放内存而导致 BUG, 从而大大减轻了负担, 把精力集中在更本质的编程工作上。
