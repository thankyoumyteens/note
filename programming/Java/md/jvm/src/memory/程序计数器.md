# 程序计数器

JVM中的程序计数寄存器（Program Counter Register），用于记录下一条jvm指令的执行地址(如果在执行native方法，则是undefined)。JVM中的PC寄存器是对CPU中程序计数器的一种抽象模拟。

程序计数器是线程隔离的，每一个线程在工作的时候都有一个独立的程序计数器。

# 使用程序计数器的原因

字节码的执行流程：编译后的字节码在没有经过JIT(实时编译器)编译前，是通过字节码解释器进行解释执行。字节码解释器按照顺序读取内存中的字节码，读取一个字节码指令就将其翻译成机器指令交给CPU执行。

单线程的情况下程序计数器是可有可无的。因为即使没有程序计数器的情况下，程序会按照指令顺序执行下去，是完全能够保证执行顺序的。

但是现实中程序往往是多线程协作完成任务的。JVM的多线程是通过CPU时间片轮转来实现的，某个线程在执行的过程中可能会因为时间片耗尽而挂起。当它再次获取时间片时，需要从挂起的地方继续执行。所以JVM使用程序计数器来记录当前线程的字节码执行到了哪个位置。
