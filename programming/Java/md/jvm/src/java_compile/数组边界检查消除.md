# 数组边界检查消除

数组边界检查消除(Array Bounds Checking Elimination)是即时编译器中的一项语言相关的经典优化技术。

如果有一个数组`arr[]`, 在 Java 语言中访问数组元素`arr[i]`的时候系统将会自动进行上下界的范围检查, 即 i 必须满足 i >= 0 && i < arr.length 的访问条件, 否则将抛出一个运行时异常: java.lang.ArrayIndexOutOfBoundsException。

这对于 JVM 来说, 每次数组元素的读写都带有一次隐含的条件判定操作, 对于拥有大量数组访问的程序代码, 这必定是一种性能负担。如果数组下标是一个常量, 只要在编译期根据数据流分析来确定`arr.length`的值, 并判断下标没有越界, 执行的时候就无须判断了。

更加常见的情况是, 数组访问发生在循环之中, 并且使用循环变量来进行数组的访问。如果编译器只要通过数据流分析就可以判定循环变量的取值范围永远在区间`[0, arr.length)`之内, 那么在循环中就可以把整个数组的上下界检查消除掉, 这可以节省很多次的条件判断操作。
