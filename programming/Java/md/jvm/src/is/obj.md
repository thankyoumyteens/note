# 对象操作指令

普通对象和数组使用了不同的字节码指令。

## 创建对象

| 操作码 | 操作数                | 操作数栈-执行前 | 操作数栈-执行后 | 操作         |
| ------ | --------------------- | --------------- | --------------- | ------------ |
| new    | indexbyte1,indexbyte2 | -               | objectref       | 创建一个对象 |

说明:

- new: 无符号数 indexbyte1 和 indexbyte2 用于构建一个当前类的运行时常量池的索引值，构建方式为`(indexbyte1 << 8) | indexbyte2`, 该索引所指向的运行时常量池项应当是一个类或接口的符号引用，这个类或接口类型应当是已被解析并且最终解析结果为某个具体的类型。一个以此为类型的对象将会被分配在堆中，并且它所有的实例变量都会进行初始化为相应类型的初始值。一个代表该对象实例的 reference 类型数据 objectref 将压入到操作数栈中。对于一个已成功解析但是未初始化的类型，在这时将会进行初始化

注意: new 指令执行后并没有完成一个对象实例创建的全部过程, 创建一个对象通常是 new、dup、invokespecial 三条指令一起出现。
