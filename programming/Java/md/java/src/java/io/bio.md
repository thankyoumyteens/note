# 同步阻塞 IO(Blocking I/O)

在阻塞式 IO 模型中, Java 应用程序从系统调用开始, 直到系统调用返回的这段时间内, Java 进程一直是阻塞的。返回成功后, 应用进程开始处理用户空间的缓存区数据。

以 socket 的 recvfrom 系统调用为例, 流程如下:

1. 应用程序发起系统调用开始, 用户线程就进入阻塞状态
2. 当内核收到系统调用, 就开始准备数据。一开始数据可能还没有到达内核缓冲区, 这个时候内核就要等待
3. 内核一直等到完整的数据到达, 才会将数据从内核缓冲区复制到进程缓冲区, 然后内核返回结果
4. 直到内核返回后, 用户线程才会解除阻塞的状态, 继续执行

![](../../img/1.jpg)

在高并发的应用场景下, 阻塞 IO 需要大量的线程来维护大量的网络连接, 内存、线程切换开销会非常巨大。
