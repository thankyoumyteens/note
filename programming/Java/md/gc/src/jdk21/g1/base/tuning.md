# Garbage-First 垃圾回收器调优

本节描述了如何在 G1 垃圾回收器（G1 GC）不符合您的要求时调整其行为。

## 推荐设置

一般的建议是使用 G1 的默认设置，如果需要，可以指定不同的停顿时间目标, 或者通过设置 `-Xmx` 来指定最大 Java 堆大小。

G1 的默认设置与其他回收器有所不同。G1 在默认配置下的目标既不是最大化吞吐量，也不是最低延迟，而是以较高的吞吐量提供相对较小且均匀的停顿时间。然而，G1 用于增量回收堆空间和控制停顿时间的机制会在应用程序线程和空间回收效率方面产生一些开销。

如果你偏好高吞吐量，可以通过使用 `-XX:MaxGCPauseMillis` 放宽停顿时间目标，或者提供更大的堆。如果延迟是主要要求，则修改停顿时间目标。避免使用 `-Xmn`、`-XX:NewRatio` 等选项将新生代大小限制为特定值，因为新生代大小是 G1 满足停顿时间目标的主要手段。将新生代大小设置为单一值会覆盖并实际上禁用停顿时间控制。

## 从其它回收器迁移到 G1
