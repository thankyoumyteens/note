# Summary

- [基础知识](./jdk21/g1/base/base.md)
  - [Oop-Klass对象模型](./jdk21/g1/base/oop_klass.md)
  - [大端和小端](./jdk21/g1/base/endianness.md)
  - [mutator](./jdk21/g1/base/mutator.md)
  - [串行并行和并发](./jdk21/g1/base/gc_threads.md)
  - [GCLocker](./jdk21/g1/base/gclocker.md)
  - [NUMA](./jdk21/g1/base/numa.md)

- [对象的分配](./jdk21/g1/allocate_object/new.md)
  - [从TLAB中分配对象](./jdk21/g1/allocate_object/tlab_allocate.md)
  - [慢速分配对象](./jdk21/g1/allocate_object/allocate_slow.md)
  - [申请新的TLAB](./jdk21/g1/allocate_object/mem_allocate_inside_tlab_slow.md)
  - [直接在堆中分配](./jdk21/g1/allocate_object/mem_allocate_outside_tlab.md)
  - [CAS分配](./jdk21/g1/allocate_object/attempt_allocation.md)
  - [加锁分配](./jdk21/g1/allocate_object/attempt_allocation_slow.md)
  - [拿到锁后分配](./jdk21/g1/allocate_object/attempt_allocation_locked.md)
  - [在当前region分配](./jdk21/g1/allocate_object/alloc_at_cur_region.md)
  - [申请新region分配](./jdk21/g1/allocate_object/alloc_at_new_region.md)
  - [扩容新生代](./jdk21/g1/allocate_object/attempt_allocation_force.md)
  - [执行GC并分配对象](./jdk21/g1/allocate_object/do_collection_pause.md)
  - [在全局卡表中标记](./jdk21/g1/allocate_object/dirty_young_block.md)
  - [初始化对象](./jdk21/g1/allocate_object/initialize_object.md)

- [分配大对象](./jdk21/g1/allocate_object/allocate_humongous.md)
  - [开启并发标记](./jdk21/g1/allocate_object/start_conc_mark.md)
  - [分配大对象](./jdk21/g1/allocate_object/humongous_obj_allocate.md)
  - [寻找可以分配大对象的region](./jdk21/g1/allocate_object/find_h_regions_.md)
  - [寻找一个region](./jdk21/g1/allocate_object/allocate_free_region.md)
  - [寻找多个region](./jdk21/g1/allocate_object/allocate_from_free_list.md)
  - [扩容后重新分配](./jdk21/g1/allocate_object/expand_and_allocate_humongous.md)
  - [初始化region空间](./jdk21/g1/allocate_object/humongous_initialize_regions.md)

- [region](./jdk21/g1/region/region.md)
  - [region的3种状态](./jdk21/g1/region/region_state.md)
  - [初始化region的大小](./jdk21/g1/region/setup_heap_region_size.md)
  - [初始化新生代的大小](./jdk21/g1/region/setup_young_region_size.md)
    - [新生代的预期范围](./jdk21/g1/region/young_gen_sizer.md)
    - [初始化新生代region](./jdk21/g1/region/init_young_gen.md)
    - [设置新生代region数量](./jdk21/g1/region/set_young_region.md)
    - [预测算法](./jdk21/g1/region/g1_predict.md)
  - [扩大新生代](./jdk21/g1/region/expand_young.md)
    - [计算pause_time_ratio](./jdk21/g1/region/pause_time_ratio.md)
    - [堆空间扩容](./jdk21/g1/region/expand.md)
  - [申请新region](./jdk21/g1/region/allocate_new_region.md)
    - [从空闲region列表获取region](./jdk21/g1/region/allocate_from_frl.md)
    - [扩大堆空间](./jdk21/g1/region/expand_single_region.md)

- [TLAB](./jdk21/g1/tlab/tlab.md)
  - [初始化TLAB](./jdk21/g1/tlab/init_tlab.md)
  - [refill_waste_limit](./jdk21/g1/tlab/refill_waste_limit.md)
  - [计算新的TLAB大小](./jdk21/g1/tlab/compute_size.md)
  - [填充dummy对象](./jdk21/g1/tlab/fill_with_dummy_object.md)
  - [创建新的TLAB](./jdk21/g1/tlab/allocate_new_tlab.md)

- [类的加载](./jdk21/g1/load_class/load_class.md)
  - [类的初始化](./jdk21/g1/load_class/initialize_class.md)
  - [类的连接](./jdk21/g1/load_class/link_class.md)
  - [注册finalizer](./jdk21/g1/load_class/register_finalizer.md)

- [垃圾回收](./jdk21/g1/gc/gc.md)
  - [执行GC并分配对象](./jdk21/g1/gc/do_collection_pause.md)

- [VMThread](./jdk21/g1/base/vm_thread.md)
  - [VMThread::execute](./jdk21/g1/base/vm_thread_execute.md)
  - [VMThread::loop](./jdk21/g1/base/vm_thread_loop.md)

- [线程握手](./jdk21/g1/base/handshake.md)
  - [VM_HandshakeAllThreads](./jdk21/g1/base/handshake_op.md)

- [安全点](./jdk21/g1/safepoint/safepoint.md)
  - [定期清理任务](./jdk21/g1/safepoint/cleanup.md)

- [字节码文件](./jdk21/g1/class_file/class_file.md)
  - [解析字节码文件](./jdk21/g1/class_file/parse_class_file.md)
  - [运行时常量池](./jdk21/g1/class_file/parse_class_file.md)

- [Handle](./jdk21/g1/base/handle.md)

- [全局卡表](./jdk21/g1/base/global_card_table.md)

- [反射](./jdk21/g1/reflection/reflection.md)

- [启动](./jdk21/g1/launcher/launcher.md)
  - [main函数](./jdk21/g1/launcher/main_function.md)
  - [JavaMain](./jdk21/g1/launcher/java_main.md)
  - [InitializeJVM](./jdk21/g1/launcher/initialize_jvm.md)
  - [create_vm](./jdk21/g1/launcher/create_vm.md)
  - [初始化OS模块](./jdk21/g1/launcher/init_os.md)
  - [加载代理库](./jdk21/g1/launcher/load_agents.md)
  - [启动线程](./jdk21/g1/launcher/threads.md)
  - [调用java主方法](./jdk21/g1/launcher/call_java_main_method.md)

- [退出](./jdk21/g1/exit/exit.md)
  - [jni_DestroyJavaVM](./jdk21/g1/exit/jni_destroy_java_vm.md)
  - [vm_exit](./jdk21/g1/exit/vm_exit.md)
  - [destroy_vm](./jdk21/g1/exit/destroy_vm.md)

## todo

- [JDK8的G1](./g1/g1.md)
  - [停顿预测模型](./g1/region/g1_predict.md)
  - [Region](./g1/region/Region.md)
  - [对象分配](./g1/obj/对象分配.md)
    - [new关键字](./g1/obj/new关键字.md)
    - [从TLAB分配内存](./g1/obj/TLAB.md)
    - [堆中慢速分配](./g1/obj/堆中慢速分配.md)
  - [RSet](./g1/rset/RSet.md)
    - [向 RSet 中添加引用关系](./g1/rset/向RSet中添加引用关系.md)
    - [稀疏 PRT](./g1/rset/稀疏PRT.md)
    - [细粒度 PRT](./g1/rset/细粒度PRT.md)
    - [粗粒度位图](./g1/rset/粗粒度位图.md)
  - [Refine 线程](./g1/refine/Refine线程.md)
    - [抽样线程](./g1/refine/抽样线程.md)
    - [管理 RSet](./g1/refine/管理RSet.md)
      - [Refine 线程的工作过程](./g1/refine/Refine线程的工作过程.md)
      - [DCQS 分区](./g1/refine/DCQS分区.md)
  - [Young GC](./g1/ygc/ygc.md)
    - [YGC 触发的时机](./g1/ygc/YGC触发的时机.md)
    - [并行任务处理](./g1/ygc/并行任务处理.md)
      - [根处理](./g1/ygc/根处理.md)
        - [处理普通对象](./g1/ygc/处理普通对象.md)
        - [查找需要回收的引用](./g1/ygc/查找需要回收的引用.md)
      - [RSet 处理](./g1/ygc/RSet处理.md)
      - [复制](./g1/ygc/复制.md)
  - [Mixed GC](./g1/mgc/mgc.md)
    - [并发标记算法](./g1/mgc/并发标记算法.md)
      - [写屏障](./g1/mgc/写屏障.md)
    - [Mixed GC 步骤](./g1/mgc/MixedGC步骤.md)
    - [并发标记线程](./g1/mgc/并发标记线程.md)
      - [根扫描子阶段](./g1/mgc/根扫描子阶段.md)
      - [并发标记子阶段](./g1/mgc/并发标记子阶段.md)
        - [处理 SATB 队列](./g1/mgc/处理SATB队列.md)
        - [处理本地队列](./g1/mgc/处理本地队列.md)
        - [处理全局标记栈](./g1/mgc/处理全局标记栈.md)
        - [do_bit 方法标记对象](./g1/mgc/do_bit方法标记对象.md)
      - [再标记子阶段](./g1/mgc/再标记子阶段.md)
      - [清理子阶段](./g1/mgc/清理子阶段.md)
        - [对 region 进行计数](./g1/mgc/对region进行计数.md)
        - [额外信息处理](./g1/mgc/额外信息处理.md)
        - [RSet 清理](./g1/mgc/RSet清理.md)
        - [老年代回收集处理](./g1/mgc/老年代回收集处理.md)
    - [启动 Mixed GC](./g1/mgc/启动MixedGC.md)
  - [Full GC](./g1/fgc/fgc.md)
    - [标记存活对象](./g1/fgc/mark_sweep_phase1.md)
    - [计算对象的新地址](./g1/fgc/mark_sweep_phase2.md)
    - [更新引用的地址](./g1/fgc/mark_sweep_phase3.md)
    - [移动对象](./g1/fgc/mark_sweep_phase4.md)


- [MMU](./jdk21/g1/region/mmu.md)

## 附录

  - [ubuntu22调试OpenJDK21](./jdk21/g1/ubuntu22_jdk21.md)
  - [MacOS调试OpenJDK21](./jdk21/g1/mac_jdk21.md)