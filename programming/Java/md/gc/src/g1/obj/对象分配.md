# 对象分配

Java 堆是线程共享区域, 任何线程都可以访问到堆区的共享数据, 由于对象实例的创建在 JVM 中非常频繁, 因此在并发环境下从堆区中划分内存空间是线程不安全的。为了避免多个线程操作同一地址, 需要使用线程同步机制(加锁等), 而线程同步会影响分配速度。

G1 提供了两种分配策略: 

1. TLAB 快速分配
2. 堆中慢速分配

开启 TLAB 时, JVM 会优先在 TLAB 中分配内存, 当对象在 TLAB 空间分配内存失败时, JVM 会尝试通过使用同步机制确保数据操作的原子性, 从而直接在堆空间中分配内存。
