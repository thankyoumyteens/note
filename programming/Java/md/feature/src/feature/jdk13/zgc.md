# 增强 ZGC

Java 13 对 ZGC（Z Garbage Collector）的核心增强是 支持主动释放未使用内存到操作系统（即 “内存归还” 功能），解决了早期 ZGC（Java 11 首次引入）只 “扩容不缩容” 的问题，大幅优化了内存资源利用率，尤其适合容器化、云原生等资源受限场景。

Java 11 引入的 ZGC 是一款低延迟垃圾收集器（目标延迟 < 10ms），但存在一个关键局限：

- 只支持 “动态扩容”：当堆内存不足时，会自动扩大堆空间（最大到 -Xmx 限制）
- 不支持 “主动缩容”：即使堆中大量内存长期未使用（如峰值过后），也不会将空闲内存归还给操作系统，导致内存资源浪费（例如容器环境中，ZGC 占用的内存无法被其他容器复用）

Java 13 针对该痛点，为 ZGC 新增了 内存归还机制，让 ZGC 既能 “扩容” 也能 “缩容”。
