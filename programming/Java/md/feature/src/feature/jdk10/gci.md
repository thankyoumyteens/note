# 垃圾回收器接口

Java 10 引入了统一的垃圾回收器接口（Garbage Collector Interface，GC Interface），这是对 JVM 内部垃圾回收器架构的重要重构。其核心目标是标准化不同垃圾回收器的实现接口，降低新增或替换垃圾回收器的开发成本，同时简化 JVM 对垃圾回收器的管理逻辑。

在 Java 10 之前，JVM 中的垃圾回收器（如 Serial GC、Parallel GC、G1、CMS 等）虽然功能独立，但与 JVM 核心代码（如内存管理、线程调度）耦合紧密：

- 不同回收器的实现分散在 JVM 源码的多个模块中，缺乏统一的抽象层。
- 新增或修改一个回收器时，需要修改大量 JVM 核心代码，开发和维护成本高。
- 回收器与 JVM 其他组件（如编译器、内存池）的交互逻辑不统一，容易引发兼容性问题。

这种耦合导致垃圾回收器的迭代和创新受限，例如为特定场景（如低延迟、大内存）开发新回收器时，需要重复实现大量通用逻辑。

Java 10 通过引入一套标准化接口，将垃圾回收器的核心功能抽象出来，实现 “回收器与 JVM 核心解耦”。核心设计包括：

1. 统一的抽象接口: 定义了一系列接口和抽象类，封装垃圾回收器的通用行为，这些接口使不同回收器可以通过统一的方式与 JVM 核心通信，减少耦合。例如：
   - 内存区域管理（年轻代、老年代的划分与分配）
   - 垃圾回收触发与执行（如 collect() 方法）
   - 回收器状态监控（如停顿时间、内存使用率统计）
   - 与 JVM 其他组件的交互（如通知内存分配失败、请求线程暂停）
2. 模块化实现:将每个垃圾回收器的具体实现封装为独立模块，仅通过标准化接口与 JVM 交互。例如：
   - G1、Parallel GC、Shenandoah（Java 12 引入）等回收器均可作为 “插件” 接入 JVM，无需修改核心代码
   - 新增回收器时，只需实现接口并注册，无需关注 JVM 内部的复杂逻辑
3. 简化配置与切换: 接口标准化后，JVM 对回收器的管理（如启动参数解析、回收器选择）更加统一。开发者可通过 `-XX:+UseXXXGC` 参数无缝切换回收器，而 JVM 内部通过接口调用适配不同实现
