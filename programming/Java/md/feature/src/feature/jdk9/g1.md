# G1 成为默认垃圾回收器

Java 9 中，G1（Garbage-First）垃圾回收器取代了之前的 Parallel GC，成为默认的垃圾回收器。这一变更并非偶然，而是 G1 经过多年迭代后，在性能、吞吐量、延迟控制等方面综合优势的体现，尤其也更适应现代应用对低延迟的需求。

## G1 取代 Parallel GC 成为默认的原因

- 传统默认回收器的局限性：Java 9 之前的默认回收器是 Parallel GC（并行垃圾回收器），其特点是通过多线程并行回收提高吞吐量，但会产生较长的停顿时间（尤其在大堆场景下）。随着应用对响应时间的要求越来越高（如微服务、实时系统），Parallel GC 的长停顿问题逐渐成为瓶颈
- G1 成为默认后的影响
  - 对大多数应用更友好：对于中等至大规模堆内存（几 GB 及以上）的应用，G1 能在吞吐量损失较小的前提下，显著降低垃圾回收的最大停顿时间，尤其适合 Web 服务、分布式系统等对延迟敏感的场景
  - 无需手动切换回收器：开发者无需通过 -XX:+UseG1GC 显式启用 G1，默认即可享受其优势。若应用场景特殊（如极小堆内存、对吞吐量要求极高而可接受长停顿），仍可手动切换为 Parallel GC(`-XX:+UseParallelGC`)或其他回收器（如 ZGC、Shenandoah，需特定 JDK 版本）
  - 推动回收器技术迭代：G1 成为默认后，Oracle 持续对其优化（如 Java 10 引入并行 Full GC、Java 12 增强混合回收策略），使其在大堆、低延迟场景下的表现进一步提升

## 适用场景

堆内存较大（≥4GB）、要求低延迟（如停顿时间 < 100ms）、需要平衡吞吐量和响应时间的应用。
