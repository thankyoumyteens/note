# 存储芯片

随机存取存储器(RAM)

- 静态随机存取存储器（SRAM）
  - 存储单元：SRAM 的存储单元通常由多个晶体管组成，一般是 6 个晶体管构成一个存储位。这些晶体管通过复杂的电路结构形成两个稳定的状态，分别表示逻辑“0”和“1”。
  - 工作原理：当要写入数据时，通过控制电路改变存储单元中晶体管的状态来表示相应的数据值。读取数据时，存储单元的状态通过电路被检测并输出到外部电路。由于 SRAM 不需要刷新操作来维持数据存储，只要电源持续供电，数据就可以一直保持，所以其速度快，但成本高、集成度低，常用于高速缓存（Cache）等对速度要求极高的场景。
- 动态随机存取存储器（DRAM）
  - 存储单元：DRAM 的存储单元由一个晶体管和一个电容组成。电容用于存储电荷，电荷的有无表示“0”和“1”。
  - 工作原理：写入数据时，根据要写入的值控制晶体管向电容充电或不充电。读取数据时，通过检测电容上的电荷来确定存储的值。然而，电容存在漏电现象，所以 DRAM 需要定期刷新，以保持数据的正确性。DRAM 成本低、集成度高，但速度相对较慢，常用于计算机的主内存等对容量要求大但对速度要求相对不那么苛刻的场景。

## 存储芯片的基本结构

![](../img/c1.png)

- 地址线: 地址线决定了存储单元的数量, n 条地址线可以读取 2<sup>n</sup> 个地址
- 数据线: 数据线决定了每一个存储单元所包含的存储元, 有 n 条数据线表示可以一次取出 n 位数据
- 读/写控制线(WE)：控制芯片读写操作
- 片选线(Chip Select, CS)：选择使用哪片芯片

存储芯片的表示方法: `1K × 4 位` 表示有 10 条地址线, 4 条数据线。

## 位扩展

位扩展指的是用多个存储器器件对数据线位数进行扩充, 比如用 1K × 4 位的芯片组成 1K × 8 位的存储器。

1. 计算需要的芯片数量: 总数据宽度 / 单个芯片的数据宽度 = 8 / 4 = 2 片芯片

![](../img/c2.png)

- 地址线连接: 所有存储器芯片共享相同的地址线。地址线是 10 位(A0-A9), 则这两片 4 位存储器芯片都连接到这 10 条地址线上
- 数据线连接: 将数据线分配给不同的存储器芯片。要扩展到 8 位数据线(D0-D7), 可以将高 4 位数据线(D4-D7)连接到第一片存储器芯片, 低 4 位数据线(D0-D3)连接到第二片存储器芯片
- 片选信号: 由于要扩展到 8 位, 所以在同一时间内两片存储器芯片都要被选中(同时读/写数据)

## 字扩展

位扩展指的是用多个存储器器件对地址线位数进行扩充, 比如用 1K × 8 位的芯片组成一个 2K × 8 位的存储器。

1. 计算需要的芯片数量: 总存储容量 / 单个芯片的存储容量 = 2K / 1K = 2 片芯片

![](../img/c3.png)

- 地址线连接: 原来有 10 条地址线(A0-A9), 可以寻址 1K 的存储空间。现在希望扩展到 2K, 需要增加一条地址线(A10)。所有存储器芯片共享较低的地址线(A0-A9), 新增的地址线(A10)用于选择不同的存储器芯片
- 数据线连接: 所有存储器芯片共享相同的数据线。这两片 8 位存储器芯片都连接到这 8 条数据线(D0-D7)上
- 片选信号: 每片存储器芯片需要独立的片选信号, 以确保在同一时间内只有一片存储器芯片被激活(因为一次只能读取 8 位数据)。使用非门让两块芯片不能同时被选中。将 A10 用做片选信号: 当 A10 为低电平时 CS0 有效, 选中左边的 1K × 8 位芯片。当 A10 为高电平时, 反相后 CS1 有效, 选中右边的 1K × 8 位芯片

## 字位扩展

字位扩展是指既增加地址位数, 又增加数据位数, 比如用 1K × 4 位的芯片组成 4K × 8 位的存储器。

1. 计算字扩展所需的芯片数量: 总存储容量 / 单个芯片的存储容量 = 4K / 1K = 4 片芯片
2. 计算位扩展所需的芯片数量: 总数据宽度 / 单个芯片的数据宽度 = 8 位 / 4 位 = 2 片芯片
3. 综合计算: 总芯片数量 = 字扩展所需的芯片数量 × 位扩展所需的芯片数量 = 总芯片数量 = 4 × 2 = 8 片芯片

![](../img/c4.png)

- 地址线连接: 原来有 10 条地址线(A0-A9), 可以寻址 1K 的存储空间。现在希望扩展到 4K, 需要增加 2 条地址线(A10 和 A11)。所有存储器芯片共享较低的地址线(A0-A9), 新增的地址线(A10 和 A11)用于选择不同的存储器芯片
- 数据线连接: 由于扩展到 8 位需要 2 片芯片, 所以每 2 个芯片为一组, 连接到 8 条数据线(D0-D7)上
- 片选信号: 使用片选译码电路把两条地址线对应到 4 组芯片上
