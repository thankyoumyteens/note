# 溢出

比如在 4 位系统中, 最高位用来表示符号位, 5 + 4 的结果为 0101 + 0100 = 1001, 由于最高位是符号位, 则 1001 是 -1。

再比如 -5 + (-4) 的结果为(补码表示) 1011 + 1100 = 10111, 由于是 4 位系统, 最高位被丢弃, 得到 0111 = 7。

上面的情况就称为溢出。可能发生溢出的情况:

- 正数 + 正数
- 负数 + 负数
- 正数 - 负数
- 负数 - 正数

## 加减运算的溢出判断

### 用一位符号位判断

计算结果的符号与原操作数的符号不同, 则表示发生溢出。(由于在补码运算中, 减法操作都被转换为加法, 所以不会出现操作数符号不同的情况)。

### 用两位符号位判断

用两位符号位表示的补码称为变形补码, 00 表示正, 11 表示负, 变形补码的两个符号位都参加运算。

判断溢出:

- 00: 结果为正, 无溢出
- 01: 正溢出, 即结果为正数, 并且超出机器所能表示的最大正数范围
- 10: 负溢出, 即结果为负数, 并且小于机器所能表示的最小负数范围
- 11: 结果为负, 无溢出

### 用一位符号位根据进位情况判断

符号位的进位和数据最高位的进位相同则无溢出, 否则溢出。

例题: 某字长为 8 位的计算机中, 已知整形变量 x 和 y 的机器数分别为 \[x\]<sub>补</sub> = 11110100, \[y\]<sub>补</sub> = 10110000。若整型变量 z = 2x + y / 2, 则 z 的机器数为:

2x 即将 x 左移 1 位: 11101000。y / 2 即将 y 算术右移 1 位: 11011000。

所以 z = 11101000 + 11011000 = 11000000。符号位和数据最高位都有进位, 因此没有溢出。
