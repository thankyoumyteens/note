# IEEE754

移码: \[x\]<sub>移</sub> = 2<sup>n</sup> + x (-2<sup>n</sup> ≤ x < 2<sup>n</sup>, 其中机器字长 n+1 位)。

移码的性质:

- 只能表示整数
- 对 0 的表示唯一: 1000...
- 符号位 1 表示正, 0 表示负
- 对于同一个真值, 移码和补码仅有符号位不同
- 最小值为 0000000...(-2<sup>n</sup>), 最大值为 1111111....(2<sup>n</sup> - 1)

移码的字面值就反映了数值的大小, 加上只能表示正数, 所以常用来表示浮点数的阶码。

## IEEE754 标准

IEEE754 标准的浮点数格式:

```
[尾数的符号部分][阶码的移码表示][尾数的数值部分用原码表示]
```

| 类型         | 符号 | 阶码 | 尾数 | 总位数 | 偏置值 |
| ------------ | ---- | ---- | ---- | ------ | ------ |
| 单精度浮点数 | 1    | 8    | 23   | 32     | 127    |
| 双精度浮点数 | 1    | 11   | 52   | 64     | 1023   |

使用 IEEE754 表示小数 261.6:

1. 整数部分转成二进制: 100000101
2. 小数部分转成二进制: 0.10011001...
3. 规格化成 1.xxx: 1.0000010110011001 × 2<sup>8</sup>
4. 转成单精度浮点数:
   - 符号: 261.6 是正数 -> 0
   - 阶码: 8 + 127 = 135, 转成二进制 -> 10000111
   - 尾数: 尾数第一位一定是 1, 所以只需要保存小数部分 -> 0000010110011001

IEEE754 浮点数的特性:

- 当阶码为全 0 且尾数也为全 0 时, 表示的真值为 0, 结合符号位为 0 或 1, 有正零和负零之分
- 当阶码为全 1 且尾数也为全 0 时, 表示的真值为无穷大, 结合符号位为 0 或 1, 有正无穷和负无穷之分
- 当阶码为全 1 且尾数不是 0 时, 则不是一个数(NaN)

IEEE754 浮点数转真值:

- 单精度浮点数转真值: (-1)<sup>符号位</sup> × 1.尾数 × 2<sup>阶码 - 127</sup>
- 单精度浮点数转真值: (-1)<sup>符号位</sup> × 1.尾数 × 2<sup>阶码 - 1023</sup>
