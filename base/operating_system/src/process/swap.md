# Swap 指令

Swap 指令是一种硬件级别的原子操作, 它在多线程或多进程环境中用于实现同步和互斥。这个指令通常涉及三个操作数: 两个内存位置和一个临时变量。Swap 指令的目的是交换这两个内存位置的值, 并在交换过程中保证操作的原子性, 即在操作完成之前, 不会被其他线程或进程中断。

Swap 指令的基本步骤如下: 

1. **读取**: 从第一个内存位置读取当前值到临时变量中
2. **设置**: 将第二个内存位置的值写入第一个内存位置
3. **返回**: 将临时变量(原第一个内存位置的值)的值返回给调用者

Swap 指令可以用于实现多种同步机制, 例如自旋锁。

## 优点

实现简单, 无需像软件实现方法那样严格检查是否会有逻辑漏洞；适用于多处理机环境。

## 缺点

不满足让权等待原则, 暂时无法进入临界区的进程会占用 CPU 并循环执行 Swap 指令, 从而导致忙等待, 消耗 CPU 资源。
