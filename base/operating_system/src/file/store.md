# 文件的物理结构

类似于内存分页，磁盘中的存储单元也会被分为一个个的块(磁盘块/物理块)。很多操作系统中，磁盘块的大小与内存块、页面的大小相同。内存与磁盘之间的数据交换都是以磁盘块为单位进行的。即每次读入一块，或每次写出一块。

用户通过逻辑地址来操作自己的文件，操作系统要负责实现从逻辑地址到物理地址的映射。文件的逻辑地址也可以表示为 `(逻辑块号, 块内地址)` 的形式。

## 连续分配

连续分配方式要求每个文件在磁盘上占有一组连续的块。文件目录中记录存放的起始块号和长度（总共占用几个块）。

用户给出要访问的逻辑块号，操作系统找到该文件对应的目录项（FCB）, `物理块号 = 起始块号 + 逻辑块号`。

可以直接算出逻辑块号对应的物理块号，因此连续分配支持顺序访问和直接访问（即随机访问）。

读取某个磁盘块时，需要移动磁头。访问的两个磁盘块相隔越远，移动磁头所需时间就越长。所以连续分配的文件在顺序读/写时速度最快。
