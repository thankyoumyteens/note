# 定义组件

## 通过函数

要求
- 参数: props
- props是只读的
- 返回值: React 元素
```jsx
function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}
```

## 通过类

要求
- props是只读的
- 继承于 React.Component
```jsx
class Welcome extends React.Component {
    constructor(props) {
        super(props);
    }
    render() {
        return <h1>Hello, {this.props.name}</h1>;
    }
}
```

# 使用组件

```jsx
const element = <Welcome name="Sara" />;
ReactDOM.render(
    element,
    document.getElementById('root')
);
```
React 调用 Welcome 组件，并将 {name: 'Sara'} 作为 props 传入。

# State 

State 与 props 类似，但是 state 是私有的，并且完全受控于当前组件。

在相同的 DOM 节点中渲染 某个组件 ，就仅有一个该组件的 class 实例被创建使用。这就使得我们可以使用如 state 或生命周期方法等很多其他特性。

# 使用state

- 只能在构造函数中初始化state
- 要使用 `this.setState()` 来更新组件的 state, 直接修改 state 时不会重新渲染组件
```jsx
class Clock extends React.Component {
  constructor(props) {
    super(props);
    this.state = {date: new Date()};
  }

  componentDidMount() {
    this.timerID = setInterval(
      () => this.tick(),
      1000
    );
  }

  componentWillUnmount() {
    clearInterval(this.timerID);
  }

  tick() {
    this.setState({
      date: new Date()
    });
  }

  render() {
    return (
      <div>
        <h1>Hello, world!</h1>
        <h2>It is {this.state.date.toLocaleTimeString()}.</h2>
      </div>
    );
  }
}

ReactDOM.render(
  <Clock />,
  document.getElementById('root')
);
```
